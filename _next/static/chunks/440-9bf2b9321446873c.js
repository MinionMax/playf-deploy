(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[440],{3913:function(e,t,r){"use strict";var n=r(1163),a=r(9982),s=r.n(a),u=r(5893);t.Z=function(e){var t=(0,n.useRouter)(),r=e.id,a=e.content;return(0,u.jsx)("div",{className:s().container,onClick:function(){return t.push("/library/post?id=".concat(r))},children:(0,u.jsxs)("div",{className:s().post,children:[(0,u.jsx)("div",{className:s().headerContainer,children:(0,u.jsx)("h1",{className:s().header,children:a.title})}),(0,u.jsxs)("p",{className:s().details,children:["\ud83d\udc64 ",a.composer]}),(0,u.jsxs)("p",{className:s().details,children:["\ud83d\udcc6 ",a.date]}),(0,u.jsx)("div",{className:s().descriptionContainer,children:(0,u.jsxs)("p",{className:s().description,children:["\ud83d\udcdd ",a.description]})})]})})}},5440:function(e,t,r){"use strict";var n,a=r(2209),s=r(266),u=r(809),c=r.n(u),o=r(7294),i=r(6969),p=r(3913),f=r(8191),l=r.n(f),h=r(4040),d=r(3057),v=r(5893);t.Z=function(e){var t=(0,o.useState)([]),r=t[0],u=t[1],f=function(){var t=(0,s.Z)(c().mark((function t(){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,i.Lh)(e.amount,e.parentId,e.composer);case 2:r=t.sent,u(r);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,o.useEffect)((function(){f()}),[e.parentId]),(0,v.jsx)("div",{className:l().container,children:(0,v.jsx)("div",{className:l().postContainer,children:""!==r.toString()?r.map((function(e){return(0,v.jsx)(p.Z,{id:e.id,content:e})})):(0,v.jsx)(h.PropagateLoader,{color:"#FF2853",css:(0,d.css)(n||(n=(0,a.Z)(["align-self: center; height: 30px;"])))})})})}},6969:function(e,t,r){"use strict";r.d(t,{zp:function(){return p},tI:function(){return d},Bd:function(){return x},Q5:function(){return y},Lh:function(){return _},qk:function(){return w}});var n=r(266),a=r(809),s=r.n(a),u=r(6942),c=r(9552),o=r.n(c),i="https://playf-api-production.up.railway.app";function p(e){return f.apply(this,arguments)}function f(){return(f=(0,n.Z)(s().mark((function e(t){var r,n,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=Array.from(t.currentTarget.childNodes),n={title:"",composer:"",date:"",description:"",videoLink:"",fileLink:"",token:""},r.forEach((function(e){""!==e.name&&(n[e.name]=e.value)})),a=o().get("auth_token"),n.token=a,e.next=8,l(n);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return h.apply(this,arguments)}function h(){return(h=(0,n.Z)(s().mark((function e(t){var r,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.uL)();case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,e.next=8,fetch(i+"/posts/new",{body:JSON.stringify(t),headers:{"Content-Type":"application/json"},method:"POST"});case 8:return r=e.sent,e.next=11,r.json();case 11:return n=e.sent,e.abrupt("return",n.id);case 15:e.prev=15,e.t0=e.catch(5),console.error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[5,15]])})))).apply(this,arguments)}function d(){return v.apply(this,arguments)}function v(){return(v=(0,n.Z)(s().mark((function e(){var t,r,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o().get("auth_token"),e.next=3,(0,u.uL)();case 3:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:return e.prev=6,e.next=9,fetch(i+"/posts/sync",{body:JSON.stringify({token:t}),headers:{"Content-Type":"application/json"},method:"POST"});case 9:return r=e.sent,e.next=12,r.json();case 12:return n=e.sent,e.abrupt("return",n);case 16:e.prev=16,e.t0=e.catch(6),console.error(e.t0);case 19:case"end":return e.stop()}}),e,null,[[6,16]])})))).apply(this,arguments)}function x(){return m.apply(this,arguments)}function m(){return(m=(0,n.Z)(s().mark((function e(){var t,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(i+"/posts");case 3:return t=e.sent,e.next=6,t.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function y(e){return k.apply(this,arguments)}function k(){return(k=(0,n.Z)(s().mark((function e(t){var r,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,fetch(i+"/posts/byPK/"+t);case 5:return r=e.sent,e.next=8,r.json();case 8:return n=e.sent,e.abrupt("return",n);case 12:e.prev=12,e.t0=e.catch(2),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function _(e,t,r){return b.apply(this,arguments)}function b(){return(b=(0,n.Z)(s().mark((function e(t,r,n){var a,u,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n&&(a={amount:t,composer:n,not:r}),n||(a={amount:t}),e.next=5,fetch(i+"/posts/suggest",{body:JSON.stringify(a),headers:{"Content-Type":"application/json"},method:"POST"});case 5:return u=e.sent,e.next=8,u.json();case 8:return c=e.sent,e.abrupt("return",c);case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function w(e,t){return g.apply(this,arguments)}function g(){return(g=(0,n.Z)(s().mark((function e(t,r){var n,a,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o().get("auth_token"),a=r.target[0].value,u={id:t,onlyFile:!0,fileLink:a,token:n},e.prev=3,e.next=6,fetch(i+"/posts/edit",{body:JSON.stringify(u),headers:{"Content-Type":"application/json"},method:"PUT"});case 6:e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}},6942:function(e,t,r){"use strict";r.d(t,{HR:function(){return i},TX:function(){return v},uL:function(){return m}});var n=r(266),a=r(809),s=r.n(a),u=r(9552),c=r.n(u),o="https://playf-api-production.up.railway.app";function i(e){return p.apply(this,arguments)}function p(){return(p=(0,n.Z)(s().mark((function e(t){var r,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("register"!==t.currentTarget.name){e.next=7;break}return e.next=3,f(t);case 3:return r=e.sent,e.abrupt("return",!!r);case 7:return e.next=9,h(t);case 9:return n=e.sent,e.abrupt("return",!!n);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return l.apply(this,arguments)}function l(){return(l=(0,n.Z)(s().mark((function e(t){var r,n,a,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={email:t.currentTarget.email.value,username:t.currentTarget.username.value,password:t.currentTarget.password.value},e.prev=1,e.next=4,fetch(o+"/users/register",{body:JSON.stringify(r),headers:{"Content-Type":"application/json"},method:"POST"});case 4:return n=e.sent,e.next=7,n.json();case 7:return a=e.sent,u=a.authToken.token,c().set("auth_token",u,{sameSite:!0,path:"/"}),e.abrupt("return",!0);case 13:return e.prev=13,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}function h(e){return d.apply(this,arguments)}function d(){return(d=(0,n.Z)(s().mark((function e(t){var r,n,a,u,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={username:t.currentTarget.username.value,password:t.currentTarget.password.value},e.prev=1,!(n=c().get("auth_token"))){e.next=6;break}return e.next=6,v(n);case 6:return e.next=8,fetch(o+"/users/login",{body:JSON.stringify(r),headers:{"Content-Type":"application/json"},method:"POST"});case 8:return a=e.sent,e.next=11,a.json();case 11:return u=e.sent,i=u.authToken.token,c().set("auth_token",i,{sameSite:!0,path:"/"}),e.abrupt("return",!0);case 17:return e.prev=17,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",!1);case 21:case"end":return e.stop()}}),e,null,[[1,17]])})))).apply(this,arguments)}function v(e){return x.apply(this,arguments)}function x(){return(x=(0,n.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,fetch(o+"/users/logout/"+t,{method:"DELETE"});case 5:e.sent,c().set("auth_token","",{sameSite:!0,path:"/"}),e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",console.error(e.t0));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function m(){return y.apply(this,arguments)}function y(){return(y=(0,n.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c().get("auth_token")){e.next=3;break}return e.abrupt("return",!1);case 3:return e.prev=3,e.next=6,fetch(o+"/users/auth/"+t);case 6:if(200!==e.sent.status){e.next=9;break}return e.abrupt("return",!0);case 9:return e.abrupt("return",!1);case 12:e.prev=12,e.t0=e.catch(3),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})))).apply(this,arguments)}},9982:function(e){e.exports={container:"postCard_container__0UuSG",post:"postCard_post__xH53U","scale-out":"postCard_scale-out__Jp9e1",headerContainer:"postCard_headerContainer__a22OK",header:"postCard_header__NLwOT",details:"postCard_details__ZiuVe",descriptionContainer:"postCard_descriptionContainer__9Thvm",description:"postCard_description__YAkHm"}},8191:function(e){e.exports={container:"suggestions_container__pwzCg",postContainer:"suggestions_postContainer__HVr7m",fadeInOpacity:"suggestions_fadeInOpacity__vz1uT"}}}]);